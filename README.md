# WorkFlowCore å·¥ä½œæµå®¡æ‰¹ç³»ç»Ÿ

åŸºäº .NET 10.0 + ABP Framework + React 19 çš„ç°ä»£åŒ–å·¥ä½œæµå®¡æ‰¹ç³»ç»Ÿï¼Œç§»æ¤è‡ªZrAdminNetCoreå¹¶è¿›è¡Œäº†å…¨é¢æ¶æ„å‡çº§ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ” å®Œå–„çš„è®¤è¯ä½“ç³»
- **å¤šç§ç™»å½•æ–¹å¼**: è´¦å·å¯†ç /æ‰‹æœºéªŒè¯ç /æ‰«ç /ç¬¬ä¸‰æ–¹ç™»å½•
- **ç¬¬ä¸‰æ–¹é›†æˆ**: å¾®ä¿¡/QQ/æ”¯ä»˜å®/Apple Sign In
- **å®‰å…¨é˜²æŠ¤**: å›¾å½¢éªŒè¯ç /çŸ­ä¿¡éªŒè¯ç /JWT Token/ç™»å½•é”å®š

### ğŸ‘¥ çµæ´»çš„æƒé™ç³»ç»Ÿ
- **åŸºäºABP**: Permission Managementæ¨¡å—
- **RBACæ¨¡å‹**: ç”¨æˆ·-è§’è‰²-æƒé™-èœå•
- **åŠ¨æ€è·¯ç”±**: åç«¯æ§åˆ¶å‰ç«¯èœå•æ˜¾ç¤º
- **æŒ‰é’®æƒé™**: ç»†ç²’åº¦æƒé™æ§åˆ¶

### ğŸ—‚ ç³»ç»Ÿç®¡ç†
- **ç”¨æˆ·ç®¡ç†**: éƒ¨é—¨/è§’è‰²/ç¬¬ä¸‰æ–¹è´¦å·
- **èœå•ç®¡ç†**: æ ‘å½¢ç»“æ„/åŠ¨æ€è·¯ç”±
- **å­—å…¸ç®¡ç†**: ç±»å‹-æ•°æ®ä¸¤çº§ç®¡ç†
- **ç³»ç»Ÿé…ç½®**: é”®å€¼å¯¹é…ç½®
- **æ“ä½œæ—¥å¿—**: è‡ªåŠ¨è®°å½•/AOPåˆ‡é¢

### ğŸ“ æ–‡ä»¶ç®¡ç†
- **å¤šäº‘å­˜å‚¨**: æœ¬åœ°/é˜¿é‡Œäº‘OSS/AWS S3/Azure Blob
- **åˆ†ç‰‡ä¸Šä¼ **: å¤§æ–‡ä»¶æ”¯æŒ/æ–­ç‚¹ç»­ä¼ 
- **ç§’ä¼ å»é‡**: MD5æ ¡éªŒ
- **è®¿é—®æ§åˆ¶**: Tokenæˆæƒ

### ğŸ”„ å·¥ä½œæµå¼•æ“
- **æµç¨‹è®¾è®¡**: å¯è§†åŒ–è®¾è®¡å™¨ (React Flow)
- **æµç¨‹æ‰§è¡Œ**: WorkflowCoreå¼•æ“
- **ç‰ˆæœ¬ç®¡ç†**: æµç¨‹ç‰ˆæœ¬æ§åˆ¶
- **ä»»åŠ¡åˆ†é…**: çµæ´»çš„åˆ†é…ç­–ç•¥

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- .NET SDK 10.0+
- Node.js 18.0+
- SQLite (æˆ–å…¶ä»–æ•°æ®åº“)

### å¯åŠ¨åç«¯

```bash
# 1. è¿˜åŸä¾èµ–
cd src/WorkFlowCore.API
dotnet restore

# 2. è¿è¡Œæ•°æ®åº“è¿ç§»
cd ../WorkFlowCore.Infrastructure
dotnet ef database update --startup-project ../WorkFlowCore.API

# 3. å¯åŠ¨API
cd ../WorkFlowCore.API
dotnet run
```

åç«¯è¿è¡Œåœ¨ `https://localhost:5001`

### å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯è¿è¡Œåœ¨ `http://localhost:5173`

### è®¿é—®åº”ç”¨

æµè§ˆå™¨æ‰“å¼€: `http://localhost:5173/login`

---

## ğŸ“š æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT-GUIDE.md) - è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜
- [OAuthé…ç½®](OAUTH-CONFIG-GUIDE.md) - ç¬¬ä¸‰æ–¹ç™»å½•é…ç½®
- [çŸ­ä¿¡é…ç½®](SMS-CONFIG-GUIDE.md) - çŸ­ä¿¡æœåŠ¡é…ç½®
- [åŠŸèƒ½æ¸…å•](FEATURES-COMPLETED.md) - å·²å®ŒæˆåŠŸèƒ½
- [MVPè®¡åˆ’](MVP-SETUP.md) - MVPå¼€å‘è®¡åˆ’
- [APIæ–‡æ¡£](https://localhost:5001/swagger) - Swagger APIæ–‡æ¡£

---

## ğŸ— é¡¹ç›®ç»“æ„

```
WorkFlowCore/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ WorkFlowCore.API/              # APIå±‚ - Web APIæ¥å£
â”‚   â”œâ”€â”€ WorkFlowCore.Application/       # åº”ç”¨å±‚ - ä¸šåŠ¡é€»è¾‘/DTOs
â”‚   â”œâ”€â”€ WorkFlowCore.Domain/            # é¢†åŸŸå±‚ - å®ä½“/é¢†åŸŸæ¥å£
â”‚   â”œâ”€â”€ WorkFlowCore.Infrastructure/   # åŸºç¡€è®¾æ–½å±‚ - æ•°æ®è®¿é—®/å¤–éƒ¨æœåŠ¡
â”‚   â””â”€â”€ WorkFlowCore.Engine/            # å·¥ä½œæµå¼•æ“å±‚
â”œâ”€â”€ frontend/                           # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                       # APIå°è£…
â”‚   â”‚   â”œâ”€â”€ components/                # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                     # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/                    # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/                  # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/                     # TypeScriptç±»å‹
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ tests/                              # æµ‹è¯•é¡¹ç›®
â””â”€â”€ docs/                               # æ–‡æ¡£
```

---

## ğŸ¨ æŠ€æœ¯æ¶æ„

### åç«¯åˆ†å±‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        WorkFlowCore.API             â”‚  â† HTTPæ¥å£å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     WorkFlowCore.Application        â”‚  â† åº”ç”¨æœåŠ¡å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       WorkFlowCore.Domain           â”‚  â† é¢†åŸŸæ¨¡å‹å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   WorkFlowCore.Infrastructure       â”‚  â† åŸºç¡€è®¾æ–½å±‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“           â†“
    [Database]  [External Services]
```

### å‰ç«¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         React Components             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Zustand State Management        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Axios HTTP Client            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            REST API                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ æ ¸å¿ƒæ¥å£

### è®¤è¯æ¥å£
```typescript
POST /api/auth/login              // è´¦å·ç™»å½•
POST /api/auth/phone-login        // æ‰‹æœºç™»å½•
GET  /api/auth/qrcode/generate    // ç”ŸæˆäºŒç»´ç 
POST /api/auth/qrcode/confirm     // ç¡®è®¤ç™»å½•
GET  /api/auth/oauth/{provider}/authorize // ç¬¬ä¸‰æ–¹æˆæƒ
```

### ç³»ç»Ÿæ¥å£
```typescript
GET /api/getInfo                  // è·å–ç”¨æˆ·ä¿¡æ¯+è§’è‰²+æƒé™
GET /api/getRouters               // è·å–åŠ¨æ€è·¯ç”±
```

### ä¸šåŠ¡æ¥å£
```typescript
GET  /api/menu/treelist           // èœå•æ ‘
GET  /api/processdefinitions      // æµç¨‹å®šä¹‰åˆ—è¡¨
POST /api/fileupload/chunk        // åˆ†ç‰‡ä¸Šä¼ 
```

---

## ğŸ›¡ å®‰å…¨ç‰¹æ€§

- âœ… JWT Tokenè®¤è¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨ (ABP Identity)
- âœ… å›¾å½¢éªŒè¯ç  (SkiaSharp)
- âœ… çŸ­ä¿¡éªŒè¯ç  (5åˆ†é’Ÿè¿‡æœŸ)
- âœ… ç™»å½•å¤±è´¥é”å®š
- âœ… Tokenè‡ªåŠ¨åˆ·æ–°
- âœ… HTTPSæ”¯æŒ
- âœ… CORSé…ç½®
- âœ… XSS/CSRFé˜²æŠ¤
- âœ… SQLæ³¨å…¥é˜²æŠ¤

---

## ğŸ“Š æ•°æ®åº“

### æ”¯æŒçš„æ•°æ®åº“
- SQLite (é»˜è®¤,å¼€å‘æµ‹è¯•)
- SQL Server
- PostgreSQL
- MySQL

### ä¸»è¦è¡¨ç»“æ„
- **ç”¨æˆ·ç›¸å…³**: AbpUsers, AbpRoles, UserThirdPartyAccounts
- **æƒé™ç›¸å…³**: Menus, RoleMenus, AbpPermissionGrants
- **ç³»ç»Ÿç®¡ç†**: Departments, DictTypes, DictDatas, SystemConfigs
- **æ—¥å¿—å®¡è®¡**: OperationLogs, AbpAuditLogs
- **å·¥ä½œæµ**: ProcessDefinitions, ProcessInstances, TaskInstances
- **æ–‡ä»¶å­˜å‚¨**: FileAttachments, FileChunks, FileStorageProviders

---

## ğŸ”¨ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨Domainå±‚å®šä¹‰å®ä½“
2. åœ¨Applicationå±‚å®šä¹‰DTOå’ŒServiceæ¥å£
3. åœ¨Infrastructureå±‚å®ç°Service
4. åœ¨APIå±‚åˆ›å»ºController
5. åˆ›å»ºæ•°æ®åº“è¿ç§»
6. å‰ç«¯åˆ›å»ºé¡µé¢ç»„ä»¶

### æ•°æ®åº“è¿ç§»
```bash
# åˆ›å»ºè¿ç§»
dotnet ef migrations add MigrationName \
  --project src/WorkFlowCore.Infrastructure \
  --startup-project src/WorkFlowCore.API

# åº”ç”¨è¿ç§»
dotnet ef database update \
  --project src/WorkFlowCore.Infrastructure \
  --startup-project src/WorkFlowCore.API
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

åŸºäºZrAdminNetCoreç§»æ¤å¹¶å‡çº§åˆ°ABP Frameworkæ¶æ„ã€‚

---

**æ›´æ–°æ—¥æœŸ**: 2025-11-23  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ,å¯æŠ•å…¥ä½¿ç”¨

